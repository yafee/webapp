$(function(){var e;var h=1;var b=15;var a=7;var d=(a-1)/2;$.get("/UserConsignee/query",{userName:null,mobile:null,limit:b,page:h},function(m){e=m.totalNumber%b!=0?Math.floor(m.totalNumber/b)+1:m.totalNumber/b;
var k="",l=1,j=e>a?a:e;for(;l<=j;l++){k+='<li class="page"><a href="javascript:void(0);">'+l+"</a></li>";}$("#start").after(k);$(".page").first().addClass("am-active");
$("#total").html(e);$("#page").html(h);e>1?pageBtnOff.start():pageBtnOff.all();c();});new DataTable($(".dataTable"),["地址ID","省份","城市","详细地址","联系电话","联系人"],"/UserConsignee/query","GET",{userName:null,mobile:null,limit:15,page:1},"returnData",["id","province","city","address","mobile","consignee"],"/delete","/update","/add");
deleteAction();$("#start").on("click",function(){if(!$("#start").hasClass("am-disabled")){pageBtnOn.end();pageBtnOff.start();h=1;f(null,null,h);g(h);$("#page").html(h);
}});$("#end").on("click",function(){if(!$("#end").hasClass("am-disabled")){pageBtnOn.start();pageBtnOff.end();h=e;f(null,null,h);g(h);$("#page").html(h);
}});$("#jumpBtn").on("click",function(i){var j=$("#targetPage").val();if(j.match(/\d/)){j=parseInt(j);if(j<=e&&j>=1){if(j==e){pageBtnOn.start();pageBtnOff.end();
}else{if(j==1){pageBtnOn.end();pageBtnOff.start();}else{pageBtnOn.start();pageBtnOn.end();}}h=j;f(null,null,h);g(h);$("#page").html(h);}else{alert("页码超出范围了！");
}}});$("#find").on("click",function(){var i=$.trim($("#selection").val());var k=$.trim($("#keyWords").val());if(i=="用户名"){if(k!=""){f(k,null,1);j();}}else{if(i=="手机号"){f(null,k,1);
j();}}function j(){var l="";$(".page").remove();for(var m=1;m<2;m++){l+='<li class="page"><a href="javascript:void(0);">'+m+"</a></li>";}$("#start").after(l);
pageBtnOff.all();}});function c(){$.each($(".page"),function(j,i){$(this).on("click",function(){var k=parseInt($(this).text());if(k>1&&k<e){pageBtnOn.start();
pageBtnOn.end();}else{if(k==e){pageBtnOn.start();pageBtnOff.end();}else{pageBtnOn.end();pageBtnOff.start();}}h=k;f(null,null,h);g(h);$("#page").html(h);
});});}function g(n){var k="",o,l;if(n>d+1){if(n+d<e){o=n-d;l=n+d;}else{o=e-a+1;l=e;}}else{o=1;l=e;}$(".page").remove();var m=o,j=l;for(;m<=j;m++){k+='<li class="page"><a href="javascript:void(0);">'+m+"</a></li>";
}$("#start").after(k);if(n>d+1){if(n>e-d){$(".page").eq(d+n-(e-d)).addClass("am-active");}else{$(".page").eq(d).addClass("am-active");}}else{$(".page").eq(n-1).addClass("am-active");
}c();}function f(k,j,i){$(".dataTable").empty();new DataTable($(".dataTable"),["地址ID","省份","城市","详细地址","联系电话","联系人"],"/UserConsignee/query","GET",{userName:k,mobile:j,limit:b,page:i},"returnData",["id","province","city","address","mobile","consignee"],"/delete","/update","/add");
deleteAction();}});function deleteAction(){var a=setInterval(function(){if($(".dataTable tr").length!=0){$.each($(".dataTable tr"),function(c,b){$(this).children("td").last().remove();
});clearInterval(a);}},50);$("#search").remove();$("#searchBtn").remove();}var pageBtnOff={start:function(){$("#start").addClass("am-disabled");},end:function(){$("#end").addClass("am-disabled");
},all:function(){$("#start").addClass("am-disabled");$("#end").addClass("am-disabled");}};var pageBtnOn={start:function(){$("#start").removeClass("am-disabled");
},end:function(){$("#end").removeClass("am-disabled");},all:function(){$("#start").removeClass("am-disabled");$("#end").removeClass("am-disabled");}};